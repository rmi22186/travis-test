<html>
<head>
    <meta charset="utf-8">
    <title>Mocha Tests</title>
    <link rel="stylesheet" href="../node_modules/mocha/mocha.css" />
</head>
<body>
    <div id="mocha"></div>

    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../node_modules/should/should.js"></script>
    <script src="mockhttprequest.js"></script>
    <script>
        var mp = function () {
            var self = this;

            this.addForwarder = function (forwarder) {
                self.forwarder = new forwarder.constructor();
            };

            this.getCurrentUser = function() {
                return currentUser();
            }
        };

        function currentUser() {
            return {
                getMPID: function() {
                    return 123;
                }
            }
        }

        window.mParticle = new mp();
    </script>
    <script src="../LeanplumAnalyticsEventForwarder.js"></script>

    <script>mocha.setup('bdd')</script>

    <script src="tests.js"></script>
    <script>
        mocha.run();
    </script>
</body>
</html>
